model User {
  id String @id @default(cuid())

  role     Role   @default(USER)
  email    String @unique
  password String

  isEmailVerified                 Boolean   @default(false) @map("is_email_verified")
  emailVerificationToken          String?   @map("email_verification_token")
  emailVerificationTokenExpiresAt DateTime? @map("email_verification_token_expires_at")

  resetPasswordToken          String?   @map("reset_password_token")
  resetPasswordTokenExpiresAt DateTime? @map("reset_password_token_expires_at")

  profile      Profile?
  measurements BodyMeasurement?

  recipes  Recipe[]
  comments Comment[]
  likes    Like[]
  orders   Order[]

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("users")
}

model Profile {
  id String @id @default(cuid())

  fullName String  @map("full_name")
  gender   Gender?
  age      Int?
  bio      String?

  user   User   @relation(fields: [userId], references: [id])
  userId String @unique @map("user_id")

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("profiles")
}

model BodyMeasurement {
  id String @id @default(cuid())

  heightCm     Int? @map("height_cm")
  weightKg     Int? @map("weight_kg")
  goalWeightKg Int? @map("goal_weight_kg")

  chestCm Int? @map("chest_cm")
  waistCm Int? @map("waist_cm")
  thighCm Int? @map("thigh_cm")
  armCm   Int? @map("arm_cm")

  activityLevel ActivityLevel?
  nutritionGoal NutritionGoal?

  user   User   @relation(fields: [userId], references: [id])
  userId String @unique @map("user_id")

  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  @@map("body_measurements")
}

enum Role {
  USER
  ADMIN
}

enum Gender {
  MALE
  FEMALE
}

enum ActivityLevel {
  SEDENTARY
  LIGHT
  MODERATE
  ACTIVE
  VERY_ACTIVE
}

enum NutritionGoal {
  WEIGHT_LOSS
  MAINTENANCE
  MUSCLE_GAIN
}
