// Что есть у пользователя
model User {
  id String @id @default(cuid())

  email    String @unique
  password String 
  role     Role @default(USER)

  profile      Profile?
  measurements BodyMeasurement?

  recipes      Recipe[]
  comments     Comment[]
  likes        Like[]
  orders       Order[]

  createdAt DateTime @default(now()) @map("created_at") // дата создания аккаунта / отображение в БД
  updatedAt DateTime @updatedAt @map("updated_at") // дата обновления аккаунта    / отображение в БД

  @@map("users")

}

model Profile {
  id String @id @default(cuid())

  fullName String @map("full_name")
  gender Gender?
  age Int?                                    // ? необязательное поле
  bio String

  user   User   @relation(fields: [userId], references: [id])
  userId String @unique @map("user_id")                    

  createdAt DateTime @default(now()) @map("created_at")   
  updatedAt DateTime @updatedAt @map("updated_at") 

  @@map("profiles")
}

model BodyMeasurement {
  id String @id @default(cuid())

  heightCm     Int? @map("height_cm")
  weightKg     Int? @map("weight_kg")
  goalWeightKg Int? @map("goal_weight_kg") 

  chestCm      Int? @map("chest_cm")
  waistCm      Int? @map("waist_cm")
  thighCm      Int? @map("thigh_cm")
  armCm        Int? @map("arm_cm")

  activityLevel   ActivityLevel?
  nutritionalGoal NutritionalGoal?

  user   User   @relation(fields: [userId], references: [id])
  userId String @unique @map("user_id")                    

  createdAt DateTime @default(now()) @map("created_at")   
  updatedAt DateTime @updatedAt @map("updated_at") 

  @@map("body_measurements")
}



// Зарезервированные константы
enum Role {
  USER
  ADMIN
}

enum Gender {
  MALE
  FEMALE
}

enum ActivityLevel {
  SEDENTARY
  LIGHT
  MODERATE
  ACTIVE
  VERY_ACTIVE
}

enum NutritionalGoal {
  WEIGHT_LOSS
  MAINTENANCE
  MUSCLE_GAIN
}


